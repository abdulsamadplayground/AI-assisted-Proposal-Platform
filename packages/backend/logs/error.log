{"level":"error","message":"Invalid or expired token","method":"POST","path":"/api/proposals","service":"api-gateway","stack":"Error: Invalid or expired token\n    at AuthService.verifyToken (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\auth.service.ts:126:13)\n    at authenticate (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\middleware\\auth.middleware.ts:39:33)\n    at Layer.handle [as handle_request] (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\layer.js:95:5)","statusCode":401,"timestamp":"2026-01-31 21:16:11"}
{"error":{"isOperational":true,"statusCode":404},"level":"error","message":"Failed to create proposal","service":"api-gateway","timestamp":"2026-01-31 21:16:51"}
{"level":"error","message":"Schema not found or inactive","method":"POST","path":"/api/proposals","service":"api-gateway","stack":"Error: Schema not found or inactive\n    at ProposalService.createProposal (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:46:15)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:20:22)","statusCode":404,"timestamp":"2026-01-31 21:16:51"}
{"level":"error","message":[{"input":null,"loc":["body","proposal_id"],"msg":"Input should be a valid string","type":"string_type"}],"proposal_id":null,"service":"api-gateway","status":422,"timestamp":"2026-01-31 21:17:34"}
{"error":{},"level":"error","message":"Failed to create proposal","service":"api-gateway","timestamp":"2026-01-31 21:17:34"}
{"level":"error","message":"[object Object]","method":"POST","path":"/api/proposals","service":"api-gateway","stack":"Error: [object Object]\n    at AIService.generateDraft (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\ai.service.ts:91:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProposalService.createProposal (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:80:26)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:20:22)","statusCode":500,"timestamp":"2026-01-31 21:17:34"}
{"level":"error","message":"insert into `schemas` (`created_by`, `description`, `global_rules`, `id`, `name`, `sections`, `version`) values (NULL, 'Acquire strategic control of an undervalued or high-potential asset\n\nAccelerate growth faster than organic expansion allows\n\nUnlock operational and financial efficiencies through active ownership\n\nStrengthen market position via scale, capability, or geographic expansion\n\nOptimize capital structure to improve cash flow and returns\n\nMitigate competitive and market risks through consolidation or diversification\n\nCreate measurable value for investors within a defined holding period\n\nPosition the asset for a clear, value-maximizing exit', '[]', '5df71277-b81e-4afe-8500-170cdad32747', 'Acquisition Venture Proposal', '[{\"id\":\"section-1769877282709\",\"name\":\"exec_summ\",\"display_name\":\"Executive Summary\",\"description\":\"Purpose: Instant decision clarity\\n\\nMust include:\\n\\nTarget company / asset\\n\\nIndustry & geography\\n\\nAcquisition type (minority, majority, full buyout)\\n\\nCapital required\\n\\nExpected IRR, MOIC, holding period\\n\\nOne-paragraph “why this deal, why now”\\n\\nRule:\\nReadable in ≤ 2 minutes, self-contained\",\"required\":true,\"order\":1,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"14px\",\"position\":\"left\"}},{\"id\":\"section-1769877334926\",\"name\":\"strategy\",\"display_name\":\"Investment Thesis & Strategic Rationale\",\"description\":\"Purpose: Justify the acquisition logic\\n\\nRequired elements:\\n\\nCore value-creation thesis (max 4–5 points)\\n\\nMarket timing and structural opportunity\\n\\nCompetitive positioning\\n\\nStrategic fit (standalone or platform)\\n\\nRule:\\nEach thesis point must map directly to:\\n\\nRevenue growth or\\n\\nCost reduction or\\n\\nRisk reduction or\\n\\nMultiple expansion\",\"required\":true,\"order\":2,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}},{\"id\":\"section-1769877366969\",\"name\":\"value_addition\",\"display_name\":\"Deal Structure & Value Creation Plan\",\"description\":\"Purpose: Show execution realism\\n\\nRequired content:\\n\\nValuation logic and price range\\n\\nFunding structure (equity, debt, hybrids)\\n\\nControl rights and governance post-deal\\n\\nPost-acquisition value creation initiatives:\\n\\nOperational improvements\\n\\nCommercial expansion\\n\\nCost optimization\\n\\nOrganizational changes\\n\\nRule:\\nEvery initiative must specify:\\n\\nTimeline\\n\\nAccountable owner\\n\\nExpected financial impact\",\"required\":true,\"order\":3,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}}]', '1.0.0') - SQLITE_CONSTRAINT: NOT NULL constraint failed: schemas.created_by","method":"POST","path":"/api/schemas","service":"api-gateway","stack":"Error: insert into `schemas` (`created_by`, `description`, `global_rules`, `id`, `name`, `sections`, `version`) values (NULL, 'Acquire strategic control of an undervalued or high-potential asset\n\nAccelerate growth faster than organic expansion allows\n\nUnlock operational and financial efficiencies through active ownership\n\nStrengthen market position via scale, capability, or geographic expansion\n\nOptimize capital structure to improve cash flow and returns\n\nMitigate competitive and market risks through consolidation or diversification\n\nCreate measurable value for investors within a defined holding period\n\nPosition the asset for a clear, value-maximizing exit', '[]', '5df71277-b81e-4afe-8500-170cdad32747', 'Acquisition Venture Proposal', '[{\"id\":\"section-1769877282709\",\"name\":\"exec_summ\",\"display_name\":\"Executive Summary\",\"description\":\"Purpose: Instant decision clarity\\n\\nMust include:\\n\\nTarget company / asset\\n\\nIndustry & geography\\n\\nAcquisition type (minority, majority, full buyout)\\n\\nCapital required\\n\\nExpected IRR, MOIC, holding period\\n\\nOne-paragraph “why this deal, why now”\\n\\nRule:\\nReadable in ≤ 2 minutes, self-contained\",\"required\":true,\"order\":1,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"14px\",\"position\":\"left\"}},{\"id\":\"section-1769877334926\",\"name\":\"strategy\",\"display_name\":\"Investment Thesis & Strategic Rationale\",\"description\":\"Purpose: Justify the acquisition logic\\n\\nRequired elements:\\n\\nCore value-creation thesis (max 4–5 points)\\n\\nMarket timing and structural opportunity\\n\\nCompetitive positioning\\n\\nStrategic fit (standalone or platform)\\n\\nRule:\\nEach thesis point must map directly to:\\n\\nRevenue growth or\\n\\nCost reduction or\\n\\nRisk reduction or\\n\\nMultiple expansion\",\"required\":true,\"order\":2,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}},{\"id\":\"section-1769877366969\",\"name\":\"value_addition\",\"display_name\":\"Deal Structure & Value Creation Plan\",\"description\":\"Purpose: Show execution realism\\n\\nRequired content:\\n\\nValuation logic and price range\\n\\nFunding structure (equity, debt, hybrids)\\n\\nControl rights and governance post-deal\\n\\nPost-acquisition value creation initiatives:\\n\\nOperational improvements\\n\\nCommercial expansion\\n\\nCost optimization\\n\\nOrganizational changes\\n\\nRule:\\nEvery initiative must specify:\\n\\nTimeline\\n\\nAccountable owner\\n\\nExpected financial impact\",\"required\":true,\"order\":3,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}}]', '1.0.0') - SQLITE_CONSTRAINT: NOT NULL constraint failed: schemas.created_by","statusCode":500,"timestamp":"2026-01-31 21:36:13"}
{"level":"error","message":"Undefined binding(s) detected when compiling FIRST. Undefined column(s): [id] query: select * from `users` where `id` = ? limit ?","method":"GET","path":"/api/proposals","service":"api-gateway","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [id] query: select * from `users` where `id` = ? limit ?\n    at QueryCompiler_SQLite3.toSQL (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\query\\querycompiler.js:112:13)\n    at QueryBuilder_SQLite3.toSQL (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\query\\querybuilder.js:84:44)\n    at ensureConnectionCallback (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async ProposalService.listProposals (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:170:18)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:36:23)","statusCode":500,"timestamp":"2026-01-31 22:03:11"}
{"level":"error","message":"Undefined binding(s) detected when compiling FIRST. Undefined column(s): [id] query: select * from `users` where `id` = ? limit ?","method":"GET","path":"/api/proposals","service":"api-gateway","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [id] query: select * from `users` where `id` = ? limit ?\n    at QueryCompiler_SQLite3.toSQL (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\query\\querycompiler.js:112:13)\n    at QueryBuilder_SQLite3.toSQL (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\query\\querybuilder.js:84:44)\n    at ensureConnectionCallback (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async ProposalService.listProposals (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:170:18)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:36:23)","statusCode":500,"timestamp":"2026-01-31 22:03:11"}
{"level":"error","message":"Undefined binding(s) detected when compiling FIRST. Undefined column(s): [id] query: select * from `users` where `id` = ? limit ?","method":"GET","path":"/api/proposals","service":"api-gateway","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [id] query: select * from `users` where `id` = ? limit ?\n    at QueryCompiler_SQLite3.toSQL (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\query\\querycompiler.js:112:13)\n    at QueryBuilder_SQLite3.toSQL (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\query\\querybuilder.js:84:44)\n    at ensureConnectionCallback (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async ProposalService.listProposals (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:170:18)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:36:23)","statusCode":500,"timestamp":"2026-01-31 22:03:20"}
{"level":"error","message":"Undefined binding(s) detected when compiling FIRST. Undefined column(s): [id] query: select * from `users` where `id` = ? limit ?","method":"GET","path":"/api/proposals","service":"api-gateway","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [id] query: select * from `users` where `id` = ? limit ?\n    at QueryCompiler_SQLite3.toSQL (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\query\\querycompiler.js:112:13)\n    at QueryBuilder_SQLite3.toSQL (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\query\\querybuilder.js:84:44)\n    at ensureConnectionCallback (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async ProposalService.listProposals (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:170:18)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:36:23)","statusCode":500,"timestamp":"2026-01-31 22:03:21"}
{"level":"error","message":"User not authenticated","method":"POST","path":"/api/schemas","service":"api-gateway","stack":"Error: User not authenticated\n    at <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\schema.routes.ts:87:13)\n    at Layer.handle [as handle_request] (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at requireAdmin (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\middleware\\auth.middleware.ts:70:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\express\\lib\\router\\index.js:346:12)","statusCode":401,"timestamp":"2026-01-31 22:06:15"}
{"level":"error","message":"insert into `schemas` (`created_by`, `description`, `global_rules`, `id`, `name`, `sections`, `version`) values ('1', 'Acquire strategic control of an undervalued or high-potential asset\n\nAccelerate growth faster than organic expansion allows\n\nUnlock operational and financial efficiencies through active ownership\n\nStrengthen market position via scale, capability, or geographic expansion\n\nOptimize capital structure to improve cash flow and returns\n\nMitigate competitive and market risks through consolidation or diversification\n\nCreate measurable value for investors within a defined holding period\n\nPosition the asset for a clear, value-maximizing exit', '[]', '764f7c6c-0f1a-42d1-ae4e-d8910c3e7842', 'Acquisition Venture Proposal', '[{\"id\":\"section-1769879166898\",\"name\":\"101\",\"display_name\":\"Executive Summary\",\"description\":\"Purpose: Instant decision clarity\\n\\nMust include:\\n\\nTarget company / asset\\n\\nIndustry & geography\\n\\nAcquisition type (minority, majority, full buyout)\\n\\nCapital required\\n\\nExpected IRR, MOIC, holding period\\n\\nOne-paragraph “why this deal, why now”\\n\\nRule:\\nReadable in ≤ 2 minutes, self-contained\",\"required\":true,\"order\":1,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}}]', '1.0.0') - SQLITE_CONSTRAINT: FOREIGN KEY constraint failed","method":"POST","path":"/api/schemas","service":"api-gateway","stack":"Error: insert into `schemas` (`created_by`, `description`, `global_rules`, `id`, `name`, `sections`, `version`) values ('1', 'Acquire strategic control of an undervalued or high-potential asset\n\nAccelerate growth faster than organic expansion allows\n\nUnlock operational and financial efficiencies through active ownership\n\nStrengthen market position via scale, capability, or geographic expansion\n\nOptimize capital structure to improve cash flow and returns\n\nMitigate competitive and market risks through consolidation or diversification\n\nCreate measurable value for investors within a defined holding period\n\nPosition the asset for a clear, value-maximizing exit', '[]', '764f7c6c-0f1a-42d1-ae4e-d8910c3e7842', 'Acquisition Venture Proposal', '[{\"id\":\"section-1769879166898\",\"name\":\"101\",\"display_name\":\"Executive Summary\",\"description\":\"Purpose: Instant decision clarity\\n\\nMust include:\\n\\nTarget company / asset\\n\\nIndustry & geography\\n\\nAcquisition type (minority, majority, full buyout)\\n\\nCapital required\\n\\nExpected IRR, MOIC, holding period\\n\\nOne-paragraph “why this deal, why now”\\n\\nRule:\\nReadable in ≤ 2 minutes, self-contained\",\"required\":true,\"order\":1,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}}]', '1.0.0') - SQLITE_CONSTRAINT: FOREIGN KEY constraint failed","statusCode":500,"timestamp":"2026-01-31 22:19:11"}
{"level":"error","message":"Cannot read properties of undefined (reading 'role')","method":"GET","path":"/api/proposals","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at ProposalService.listProposals (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:185:14)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:36:23)","statusCode":500,"timestamp":"2026-01-31 22:23:05"}
{"level":"error","message":"Cannot read properties of undefined (reading 'role')","method":"GET","path":"/api/proposals","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at ProposalService.listProposals (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:185:14)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:36:23)","statusCode":500,"timestamp":"2026-01-31 22:23:05"}
{"level":"error","message":"insert into `schemas` (`created_by`, `description`, `global_rules`, `id`, `name`, `sections`, `version`) values ('1', 'Acquire strategic control of an undervalued or high-potential asset\n\nAccelerate growth faster than organic expansion allows\n\nUnlock operational and financial efficiencies through active ownership\n\nStrengthen market position via scale, capability, or geographic expansion\n\nOptimize capital structure to improve cash flow and returns\n\nMitigate competitive and market risks through consolidation or diversification\n\nCreate measurable value for investors within a defined holding period\n\nPosition the asset for a clear, value-maximizing exit', '[]', '2e2196f2-692e-4617-8dda-902ccf704408', 'Acquisition Venture Proposal', '[{\"id\":\"section-1769880338357\",\"name\":\"101\",\"display_name\":\"Executive Summary & Deal Snapshot\",\"description\":\"Purpose: Instant decision clarity\\n\\nMust include:\\n\\nTarget company / asset\\n\\nIndustry & geography\\n\\nAcquisition type (minority, majority, full buyout)\\n\\nCapital required\\n\\nExpected IRR, MOIC, holding period\\n\\nOne-paragraph “why this deal, why now”\\n\\nRule:\\nReadable in ≤ 2 minutes, self-contained\",\"required\":true,\"order\":1,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}}]', '1.0.0') - SQLITE_CONSTRAINT: FOREIGN KEY constraint failed","method":"POST","path":"/api/schemas","service":"api-gateway","stack":"Error: insert into `schemas` (`created_by`, `description`, `global_rules`, `id`, `name`, `sections`, `version`) values ('1', 'Acquire strategic control of an undervalued or high-potential asset\n\nAccelerate growth faster than organic expansion allows\n\nUnlock operational and financial efficiencies through active ownership\n\nStrengthen market position via scale, capability, or geographic expansion\n\nOptimize capital structure to improve cash flow and returns\n\nMitigate competitive and market risks through consolidation or diversification\n\nCreate measurable value for investors within a defined holding period\n\nPosition the asset for a clear, value-maximizing exit', '[]', '2e2196f2-692e-4617-8dda-902ccf704408', 'Acquisition Venture Proposal', '[{\"id\":\"section-1769880338357\",\"name\":\"101\",\"display_name\":\"Executive Summary & Deal Snapshot\",\"description\":\"Purpose: Instant decision clarity\\n\\nMust include:\\n\\nTarget company / asset\\n\\nIndustry & geography\\n\\nAcquisition type (minority, majority, full buyout)\\n\\nCapital required\\n\\nExpected IRR, MOIC, holding period\\n\\nOne-paragraph “why this deal, why now”\\n\\nRule:\\nReadable in ≤ 2 minutes, self-contained\",\"required\":true,\"order\":1,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}}]', '1.0.0') - SQLITE_CONSTRAINT: FOREIGN KEY constraint failed","statusCode":500,"timestamp":"2026-01-31 22:25:40"}
{"error":{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"data":"{\"schema_data\":{\"id\":\"a0371b93-3f36-4788-a9b8-8e96316b4e46\",\"name\":\"Acquisition Venture Proposal\",\"version\":\"1.0.0\",\"description\":\"Acquire strategic control of an undervalued or high-potential asset\\n\\nAccelerate growth faster than organic expansion allows\\n\\nUnlock operational and financial efficiencies through active ownership\\n\\nStrengthen market position via scale, capability, or geographic expansion\\n\\nOptimize capital structure to improve cash flow and returns\\n\\nMitigate competitive and market risks through consolidation or diversification\\n\\nCreate measurable value for investors within a defined holding period\\n\\nPosition the asset for a clear, value-maximizing exit\",\"sections\":[{\"id\":\"section-1769880338357\",\"name\":\"101\",\"display_name\":\"Executive Summary & Deal Snapshot\",\"description\":\"Purpose: Instant decision clarity\\n\\nMust include:\\n\\nTarget company / asset\\n\\nIndustry & geography\\n\\nAcquisition type (minority, majority, full buyout)\\n\\nCapital required\\n\\nExpected IRR, MOIC, holding period\\n\\nOne-paragraph “why this deal, why now”\\n\\nRule:\\nReadable in ≤ 2 minutes, self-contained\",\"required\":true,\"order\":1,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}}],\"global_rules\":[]}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"1270","Content-Type":"application/json","User-Agent":"axios/1.13.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:8000/api/ai/schemas","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 400","name":"AxiosError","stack":"AxiosError: Request failed with status code 400\n    at settle (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\core\\settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\adapters\\http.js:798:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\core\\Axios.js:45:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AIService.uploadSchema (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\ai.service.ts:117:24)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\schema.routes.ts:105:7)","status":400},"level":"error","message":"Failed to upload schema to AI service","service":"api-gateway","timestamp":"2026-01-31 22:29:49"}
{"error":{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"data":"{\"schema_data\":{\"id\":\"default-proposal-schema\",\"name\":\"Default Proposal Schema - Updated\",\"version\":\"1.1.0\",\"description\":\"Updated description with version tracking\",\"sections\":[{\"name\":\"executive_summary\",\"display_name\":\"Executive Summary\",\"description\":\"High-level overview of the proposal\",\"order\":1,\"required\":true,\"min_length\":200,\"max_length\":1000,\"output_format\":\"paragraph\",\"rules\":[{\"name\":\"length_check\",\"type\":\"length\",\"description\":\"Must be between 200-1000 characters\",\"parameters\":{\"min\":200,\"max\":1000},\"severity\":\"error\"}]},{\"name\":\"scope_of_work\",\"display_name\":\"Scope of Work\",\"description\":\"Detailed description of work to be performed\",\"order\":2,\"required\":true,\"min_length\":300,\"max_length\":2000,\"output_format\":\"bullet_points\",\"rules\":[{\"name\":\"length_check\",\"type\":\"length\",\"description\":\"Must be between 300-2000 characters\",\"parameters\":{\"min\":300,\"max\":2000},\"severity\":\"error\"}]},{\"name\":\"timeline\",\"display_name\":\"Project Timeline\",\"description\":\"Project schedule and milestones\",\"order\":3,\"required\":true,\"min_length\":200,\"max_length\":1500,\"output_format\":\"timeline\",\"rules\":[{\"name\":\"length_check\",\"type\":\"length\",\"description\":\"Must be between 200-1500 characters\",\"parameters\":{\"min\":200,\"max\":1500},\"severity\":\"error\"}]},{\"name\":\"pricing\",\"display_name\":\"Pricing\",\"description\":\"Cost breakdown and pricing details\",\"order\":4,\"required\":true,\"min_length\":200,\"max_length\":1500,\"output_format\":\"structured\",\"rules\":[{\"name\":\"length_check\",\"type\":\"length\",\"description\":\"Must be between 200-1500 characters\",\"parameters\":{\"min\":200,\"max\":1500},\"severity\":\"error\"}]}],\"global_rules\":[{\"name\":\"no_placeholder_text\",\"type\":\"content\",\"description\":\"Must not contain placeholder text like [INSERT], TBD, etc.\",\"parameters\":{\"forbidden_patterns\":[\"\\\\[INSERT\\\\]\",\"TBD\",\"TODO\",\"\\\\[\\\\.\\\\.\\\\.]\"]},\"severity\":\"error\"},{\"name\":\"professional_tone\",\"type\":\"style\",\"description\":\"Must maintain professional business tone\",\"parameters\":{},\"severity\":\"warning\"}]}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"1977","Content-Type":"application/json","User-Agent":"axios/1.13.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:8000/api/ai/schemas","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 400","name":"AxiosError","stack":"AxiosError: Request failed with status code 400\n    at settle (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\core\\settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\adapters\\http.js:798:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\core\\Axios.js:45:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AIService.uploadSchema (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\ai.service.ts:117:24)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\schema.routes.ts:181:7)","status":400},"level":"error","message":"Failed to upload schema to AI service","service":"api-gateway","timestamp":"2026-01-31 22:35:07"}
{"error":{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"data":"{\"schema_data\":{\"id\":\"default-proposal-schema\",\"name\":\"Default Proposal Schema - Updated\",\"version\":\"1.2.0\",\"description\":\"Second update to test version tracking\",\"sections\":[{\"name\":\"executive_summary\",\"display_name\":\"Executive Summary\",\"description\":\"High-level overview of the proposal\",\"order\":1,\"required\":true,\"min_length\":200,\"max_length\":1000,\"output_format\":\"paragraph\",\"rules\":[{\"name\":\"length_check\",\"type\":\"length\",\"description\":\"Must be between 200-1000 characters\",\"parameters\":{\"min\":200,\"max\":1000},\"severity\":\"error\"}]},{\"name\":\"scope_of_work\",\"display_name\":\"Scope of Work\",\"description\":\"Detailed description of work to be performed\",\"order\":2,\"required\":true,\"min_length\":300,\"max_length\":2000,\"output_format\":\"bullet_points\",\"rules\":[{\"name\":\"length_check\",\"type\":\"length\",\"description\":\"Must be between 300-2000 characters\",\"parameters\":{\"min\":300,\"max\":2000},\"severity\":\"error\"}]},{\"name\":\"timeline\",\"display_name\":\"Project Timeline\",\"description\":\"Project schedule and milestones\",\"order\":3,\"required\":true,\"min_length\":200,\"max_length\":1500,\"output_format\":\"timeline\",\"rules\":[{\"name\":\"length_check\",\"type\":\"length\",\"description\":\"Must be between 200-1500 characters\",\"parameters\":{\"min\":200,\"max\":1500},\"severity\":\"error\"}]},{\"name\":\"pricing\",\"display_name\":\"Pricing\",\"description\":\"Cost breakdown and pricing details\",\"order\":4,\"required\":true,\"min_length\":200,\"max_length\":1500,\"output_format\":\"structured\",\"rules\":[{\"name\":\"length_check\",\"type\":\"length\",\"description\":\"Must be between 200-1500 characters\",\"parameters\":{\"min\":200,\"max\":1500},\"severity\":\"error\"}]}],\"global_rules\":[{\"name\":\"no_placeholder_text\",\"type\":\"content\",\"description\":\"Must not contain placeholder text like [INSERT], TBD, etc.\",\"parameters\":{\"forbidden_patterns\":[\"\\\\[INSERT\\\\]\",\"TBD\",\"TODO\",\"\\\\[\\\\.\\\\.\\\\.]\"]},\"severity\":\"error\"},{\"name\":\"professional_tone\",\"type\":\"style\",\"description\":\"Must maintain professional business tone\",\"parameters\":{},\"severity\":\"warning\"}]}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"1974","Content-Type":"application/json","User-Agent":"axios/1.13.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:8000/api/ai/schemas","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 400","name":"AxiosError","stack":"AxiosError: Request failed with status code 400\n    at settle (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\core\\settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\adapters\\http.js:798:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\core\\Axios.js:45:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AIService.uploadSchema (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\ai.service.ts:117:24)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\schema.routes.ts:181:7)","status":400},"level":"error","message":"Failed to upload schema to AI service","service":"api-gateway","timestamp":"2026-01-31 22:35:07"}
{"error":{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"data":"{\"schema_data\":{\"id\":\"a0371b93-3f36-4788-a9b8-8e96316b4e46\",\"name\":\"Acquisition Endeavor Proposal\",\"version\":\"1.0.0\",\"description\":\"Acquire strategic control of an undervalued or high-potential asset\\n\\nAccelerate growth faster than organic expansion allows\\n\\nUnlock operational and financial efficiencies through active ownership\\n\\nStrengthen market position via scale, capability, or geographic expansion\\n\\nOptimize capital structure to improve cash flow and returns\\n\\nMitigate competitive and market risks through consolidation or diversification\\n\\nCreate measurable value for investors within a defined holding period\\n\\nPosition the asset for a clear, value-maximizing exit\",\"sections\":[{\"id\":\"section-1769880338357\",\"name\":\"101\",\"display_name\":\"Executive Summary & Deal Snapshot\",\"description\":\"Purpose: Instant decision clarity\\n\\nMust include:\\n\\nTarget company / asset\\n\\nIndustry & geography\\n\\nAcquisition type (minority, majority, full buyout)\\n\\nCapital required\\n\\nExpected IRR, MOIC, holding period\\n\\nOne-paragraph “why this deal, why now”\\n\\nRule:\\nReadable in ≤ 2 minutes, self-contained\",\"required\":true,\"order\":1,\"output_format\":\"text\",\"rules\":[],\"styling\":{\"font_color\":\"#000000\",\"font_size\":\"16px\",\"position\":\"left\"}}],\"global_rules\":[]}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"1271","Content-Type":"application/json","User-Agent":"axios/1.13.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:8000/api/ai/schemas","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 400","name":"AxiosError","stack":"AxiosError: Request failed with status code 400\n    at settle (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\core\\settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\adapters\\http.js:798:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\node_modules\\axios\\lib\\core\\Axios.js:45:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AIService.uploadSchema (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\ai.service.ts:117:24)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\schema.routes.ts:181:7)","status":400},"level":"error","message":"Failed to upload schema to AI service","service":"api-gateway","timestamp":"2026-01-31 22:37:16"}
{"level":"error","message":"Schema a0371b93-3f36-4788-a9b8-8e96316b4e46 not found","proposal_id":"c12c4614-43ab-41cd-bee8-7d95b5d2672a","service":"api-gateway","status":404,"timestamp":"2026-01-31 22:39:35"}
{"error":{},"level":"error","message":"Failed to create proposal","service":"api-gateway","timestamp":"2026-01-31 22:39:35"}
{"level":"error","message":"Schema a0371b93-3f36-4788-a9b8-8e96316b4e46 not found","method":"POST","path":"/api/proposals","service":"api-gateway","stack":"Error: Schema a0371b93-3f36-4788-a9b8-8e96316b4e46 not found\n    at AIService.generateDraft (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\ai.service.ts:91:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProposalService.createProposal (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\services\\proposal.service.ts:82:26)\n    at async <anonymous> (C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\backend\\src\\routes\\proposal.routes.ts:20:22)","statusCode":500,"timestamp":"2026-01-31 22:39:35"}
