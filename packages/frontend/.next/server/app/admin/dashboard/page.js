(()=>{var e={};e.id=427,e.ids=[427],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2389:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),t(3624),t(9457),t(2029),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3624)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\admin\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\admin\\dashboard\\page.tsx"],x="/admin/dashboard/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3856:(e,s,t)=>{Promise.resolve().then(t.bind(t,3763))},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(5578).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5557:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(5578).Z)("file-plus",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]])},3763:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(326),r=t(8069),l=t(7577),i=t(434),n=t(6283),d=t(8998),c=t(4061),o=t(8378),x=t(7069),h=t(5578);let m=(0,h.Z)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var p=t(5557);let g=(0,h.Z)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),u=(0,h.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var j=t(8426);function v(){let[e,s]=(0,l.useState)({totalProposals:0,awaitingApproval:0,underReview:0,acceptedThisWeek:0,rejectedThisWeek:0,totalUsers:0,activeSchemas:0,avgProcessingTime:"0 hours"}),[t,h]=(0,l.useState)([]),[v,f]=(0,l.useState)(!0),[b,y]=(0,l.useState)(null),w=async()=>{try{f(!0),y(null);let e=await fetch(`${r.T5}/api/proposals`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch proposals");let t=await e.json(),a=0;try{let e=await fetch(`${r.T5}/api/users`,{headers:{"Content-Type":"application/json"}});e.ok&&(a=(await e.json()).length)}catch(e){console.error("Failed to fetch users:",e)}let l=0;try{let e=await fetch(`${r.T5}/api/schemas`,{headers:{"Content-Type":"application/json"}});e.ok&&(l=(await e.json()).length)}catch(e){console.error("Failed to fetch schemas:",e)}let i=new Date;i.setDate(i.getDate()-7);let n={totalProposals:t.length,awaitingApproval:t.filter(e=>"pending_approval"===e.status.toLowerCase()||"awaiting_approval"===e.status.toLowerCase()).length,underReview:t.filter(e=>"under_review"===e.status.toLowerCase()).length,acceptedThisWeek:t.filter(e=>("approved"===e.status.toLowerCase()||"accepted"===e.status.toLowerCase())&&new Date(e.created_at)>=i).length,rejectedThisWeek:t.filter(e=>"rejected"===e.status.toLowerCase()&&new Date(e.created_at)>=i).length,totalUsers:a,activeSchemas:l,avgProcessingTime:"2.5 hours"};s(n);let d=[...t].sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime());h(d.slice(0,3))}catch(s){let e=s instanceof Error?s.message:"Failed to load dashboard data";y(e),j.C.error(e)}finally{f(!1)}},N=e=>{let s=e.toLowerCase();return a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${{awaiting_approval:"bg-yellow-100 text-yellow-800",pending_approval:"bg-yellow-100 text-yellow-800",under_review:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800",accepted:"bg-green-100 text-green-800",approved:"bg-green-100 text-green-800"}[s]||"bg-gray-100 text-gray-800"}`,children:{awaiting_approval:"Awaiting Approval",pending_approval:"Pending Approval",under_review:"Under Review",rejected:"Rejected",accepted:"Accepted",approved:"Approved"}[s]||e})};return v?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):b?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),a.jsx("p",{className:"text-gray-600 mb-6",children:b}),a.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-lg p-6 text-white",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome to Admin Dashboard"}),a.jsx("p",{className:"text-blue-100",children:"Manage proposals, schemas, and users from this central hub"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6 transform transition-all duration-200 hover:scale-105",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Proposals"}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:e.totalProposals})]}),a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg",children:a.jsx(n.Z,{className:"w-6 h-6 text-blue-600"})})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 transform transition-all duration-200 hover:scale-105",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Awaiting Approval"}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-yellow-600",children:e.awaitingApproval})]}),a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-lg",children:a.jsx(d.Z,{className:"w-6 h-6 text-yellow-600"})})]}),a.jsx(i.default,{href:"/admin/proposals",className:"mt-2 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:"Review now →"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 transform transition-all duration-200 hover:scale-105",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Active Users"}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:e.totalUsers})]}),a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg",children:a.jsx(c.Z,{className:"w-6 h-6 text-purple-600"})})]}),a.jsx(i.default,{href:"/admin/users",className:"mt-2 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:"Manage users →"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 transform transition-all duration-200 hover:scale-105",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Active Schemas"}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:e.activeSchemas})]}),a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg",children:a.jsx(o.Z,{className:"w-6 h-6 text-green-600"})})]}),a.jsx(i.default,{href:"/admin/schemas",className:"mt-2 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:"Manage schemas →"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 transform transition-all duration-200 hover:scale-105",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"This Week"}),a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-lg",children:a.jsx(x.Z,{className:"w-5 h-5 text-blue-600"})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Accepted"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:e.acceptedThisWeek})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Rejected"}),a.jsx("span",{className:"text-lg font-bold text-red-600",children:e.rejectedThisWeek})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Under Review"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:e.underReview})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 transform transition-all duration-200 hover:scale-105",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acceptance Rate"}),a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-green-100 rounded-lg",children:a.jsx(x.Z,{className:"w-5 h-5 text-green-600"})})]}),a.jsx("div",{className:"flex items-center justify-center h-24",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-4xl font-bold text-green-600",children:[Math.round(e.acceptedThisWeek/(e.acceptedThisWeek+e.rejectedThisWeek)*100),"%"]}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"This week"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 transform transition-all duration-200 hover:scale-105",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Avg Processing Time"}),a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-100 rounded-lg",children:a.jsx(m,{className:"w-5 h-5 text-purple-600"})})]}),a.jsx("div",{className:"flex items-center justify-center h-24",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-blue-600",children:e.avgProcessingTime}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Per proposal"})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Proposals"}),a.jsx(i.default,{href:"/admin/proposals",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all →"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:t.map(e=>a.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["By ",e.user_name||"Unknown"," • ",new Date(e.created_at).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[N(e.status),a.jsx(i.default,{href:`/admin/proposals/${e.id}`,className:"text-sm text-blue-600 hover:text-blue-800",children:"Review →"})]})]})},e.id))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(i.default,{href:"/admin/schemas/create",className:"group bg-white rounded-lg shadow p-6 hover:shadow-lg transition-all duration-200 hover:scale-105",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mb-3 group-hover:bg-blue-200 transition-colors",children:a.jsx(p.Z,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Create New Schema"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Define sections, rules, and SOPs for proposal generation"})]}),(0,a.jsxs)(i.default,{href:"/admin/proposals",className:"group bg-white rounded-lg shadow p-6 hover:shadow-lg transition-all duration-200 hover:scale-105",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg mb-3 group-hover:bg-green-200 transition-colors",children:a.jsx(g,{className:"w-6 h-6 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Review Proposals"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Review, edit, accept, or reject user submissions"})]}),(0,a.jsxs)(i.default,{href:"/admin/users",className:"group bg-white rounded-lg shadow p-6 hover:shadow-lg transition-all duration-200 hover:scale-105",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg mb-3 group-hover:bg-purple-200 transition-colors",children:a.jsx(u,{className:"w-6 h-6 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Manage Users"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Assign schemas and monitor user activity"})]})]})]})}},3624:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\ABDUL SAMAD\Desktop\AI assisted document platform\packages\frontend\src\app\admin\dashboard\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[630,910,194],()=>t(2389));module.exports=a})();