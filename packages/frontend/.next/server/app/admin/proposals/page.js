(()=>{var e={};e.id=222,e.ids=[222],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2544:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(3577),s(9457),s(2029),s(5866);var a=s(3191),r=s(8716),l=s(7922),i=s.n(l),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["admin",{children:["proposals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3577)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\admin\\proposals\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\admin\\proposals\\page.tsx"],p="/admin/proposals/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/proposals/page",pathname:"/admin/proposals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4763:(e,t,s)=>{Promise.resolve().then(s.bind(s,667))},667:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(326),r=s(8069),l=s(7577),i=s(434),n=s(8426);function d(){let[e,t]=(0,l.useState)([]),[s,d]=(0,l.useState)("all"),[o,c]=(0,l.useState)(!0),[p,x]=(0,l.useState)(null),m=async()=>{try{c(!0),x(null);let e=await fetch(`${r.T5}/api/proposals`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch proposals");let s=await e.json();t(s)}catch(t){let e=t instanceof Error?t.message:"Failed to load proposals";x(e),n.C.error(e)}finally{c(!1)}},g=e=>{let t=e.toLowerCase();return a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${{pending_approval:"bg-yellow-100 text-yellow-800",awaiting_approval:"bg-yellow-100 text-yellow-800",under_review:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800",accepted:"bg-green-100 text-green-800",approved:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800"}`,children:{pending_approval:"Pending Approval",awaiting_approval:"Awaiting Approval",under_review:"Under Review",rejected:"Rejected",accepted:"Accepted",approved:"Approved",draft:"Draft"}[t]||e})},h="all"===s?e:e.filter(e=>e.status.toLowerCase()===s.toLowerCase());return o?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading proposals..."})]})}):p?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Proposals"}),a.jsx("p",{className:"text-gray-600 mb-6",children:p}),a.jsx("button",{onClick:m,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Proposal Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Review, edit, and manage user-submitted proposals"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Status:"}),(0,a.jsxs)("select",{value:s,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900",children:[a.jsx("option",{value:"all",className:"text-gray-900",children:"All Proposals"}),a.jsx("option",{value:"pending_approval",className:"text-gray-900",children:"Pending Approval"}),a.jsx("option",{value:"under_review",className:"text-gray-900",children:"Under Review"}),a.jsx("option",{value:"approved",className:"text-gray-900",children:"Approved"}),a.jsx("option",{value:"rejected",className:"text-gray-900",children:"Rejected"}),a.jsx("option",{value:"draft",className:"text-gray-900",children:"Draft"})]}),a.jsx("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",h.length," of ",e.length," proposals"]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proposal"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schema"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:e.user_name||"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:e.schema_name||"No schema"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g(e.status)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx(i.default,{href:`/admin/proposals/${e.id}`,className:"text-blue-600 hover:text-blue-900 mr-4",children:"Review"})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Pending Approval"}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-yellow-600",children:e.filter(e=>"pending_approval"===e.status.toLowerCase()||"awaiting_approval"===e.status.toLowerCase()).length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Under Review"}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-blue-600",children:e.filter(e=>"under_review"===e.status.toLowerCase()).length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Approved"}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-green-600",children:e.filter(e=>"approved"===e.status.toLowerCase()||"accepted"===e.status.toLowerCase()).length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Rejected"}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-red-600",children:e.filter(e=>"rejected"===e.status.toLowerCase()).length})]})]})]})}},3577:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\ABDUL SAMAD\Desktop\AI assisted document platform\packages\frontend\src\app\admin\proposals\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[630,910,194],()=>s(2544));module.exports=a})();