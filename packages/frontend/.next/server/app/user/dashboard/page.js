(()=>{var e={};e.id=225,e.ids=[225],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1850:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>n}),t(5562),t(9102),t(2029),t(5866);var r=t(3191),a=t(8716),d=t(7922),l=t.n(d),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let n=["",{children:["user",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5562)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\user\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9102)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\user\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ABDUL SAMAD\\Desktop\\AI assisted document platform\\packages\\frontend\\src\\app\\user\\dashboard\\page.tsx"],x="/user/dashboard/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/user/dashboard/page",pathname:"/user/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},7177:(e,s,t)=>{Promise.resolve().then(t.bind(t,3643))},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(5578).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5557:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(5578).Z)("file-plus",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]])},3643:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(326),a=t(8069),d=t(7577),l=t(434),i=t(5557),o=t(6283),n=t(8998),c=t(8426);function x(){let[e,s]=(0,d.useState)({totalProposals:0,draftProposals:0,pendingApproval:0,approved:0,rejected:0}),[t,x]=(0,d.useState)([]),[p,m]=(0,d.useState)(!0),[h,u]=(0,d.useState)(null),g=async()=>{try{m(!0),u(null);let e=await fetch(`${a.T5}/api/proposals`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch proposals");let t=await e.json(),r={totalProposals:t.length,draftProposals:t.filter(e=>"draft"===e.status.toLowerCase()).length,pendingApproval:t.filter(e=>"pending_approval"===e.status.toLowerCase()).length,approved:t.filter(e=>"approved"===e.status.toLowerCase()).length,rejected:t.filter(e=>"rejected"===e.status.toLowerCase()).length};s(r);let d=[...t].sort((e,s)=>new Date(s.updated_at).getTime()-new Date(e.updated_at).getTime());x(d.slice(0,3))}catch(s){let e=s instanceof Error?s.message:"Failed to load dashboard data";u(e),c.C.error(e)}finally{m(!1)}},f=e=>{switch(e.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending_approval":return"bg-yellow-100 text-yellow-800";case"draft":default:return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800"}},v=e=>{switch(e.toLowerCase()){case"pending_approval":return"Pending Approval";case"approved":return"Approved";case"rejected":return"Rejected";case"draft":return"Draft";default:return e}};return p?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):h?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),r.jsx("p",{className:"text-gray-600 mb-6",children:h}),r.jsx("button",{onClick:g,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome back! Here's an overview of your proposals."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Total Proposals"}),r.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:e.totalProposals})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Drafts"}),r.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-500",children:e.draftProposals})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),r.jsx("div",{className:"mt-2 text-3xl font-bold text-yellow-600",children:e.pendingApproval})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Approved"}),r.jsx("div",{className:"mt-2 text-3xl font-bold text-green-600",children:e.approved})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),r.jsx("div",{className:"mt-2 text-3xl font-bold text-red-600",children:e.rejected})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)(l.default,{href:"/user/proposals/create",className:"group flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 hover:scale-105",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mr-4 group-hover:bg-blue-200 transition-colors",children:r.jsx(i.Z,{className:"w-6 h-6 text-blue-600"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Create New Proposal"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Start a new proposal from scratch"})]})]}),(0,r.jsxs)(l.default,{href:"/user/proposals?filter=draft",className:"group flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 hover:scale-105",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-lg mr-4 group-hover:bg-gray-200 transition-colors",children:r.jsx(o.Z,{className:"w-6 h-6 text-gray-600"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Continue Draft"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Resume working on drafts"})]})]}),(0,r.jsxs)(l.default,{href:"/user/proposals?filter=pending",className:"group flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 hover:scale-105",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-lg mr-4 group-hover:bg-yellow-200 transition-colors",children:r.jsx(n.Z,{className:"w-6 h-6 text-yellow-600"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"View Pending"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Check proposals awaiting approval"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Proposals"})}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schema"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Version"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Modified"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-600",children:e.schema_name||"No schema"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${f(e.status)}`,children:v(e.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["v",e.version]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-600",children:new Date(e.updated_at).toLocaleDateString()})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsx(l.default,{href:`/user/proposals/${e.id}`,className:"text-blue-600 hover:text-blue-900 font-medium",children:"View"})})]},e.id))})]})})]})]})}},5562:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\ABDUL SAMAD\Desktop\AI assisted document platform\packages\frontend\src\app\user\dashboard\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[630,910,430],()=>t(1850));module.exports=r})();